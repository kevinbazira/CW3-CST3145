(function(){"use strict";var t={8096:function(t,e,s){var r=s(6369),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row align-items-center py-3 px-xl-12"},[e("div",{staticClass:"col-lg-3 d-none d-lg-block"},[e("a",{staticClass:"text-decoration-none",attrs:{href:""}},[e("h1",{staticClass:"m-0 display-5 font-weight-semi-bold"},[t._v(" "+t._s(t.sitename)+" ")])])]),e("div",{staticClass:"col-lg-6 col-6 text-left"}),e("div",{staticClass:"col-lg-3 col-6 text-right"},[e("button",{staticClass:"btn border",attrs:{disabled:!t.cartItemCount},on:{click:t.showCartAndCheckout}},[e("i",{staticClass:"fas fa-shopping-cart text-primary"}),e("span",{staticClass:"badge"},[t._v(" "+t._s(t.cartItemCount)+" ")])])])])]),e("div",{staticClass:"container-fluid bg-secondary"},[e("div",{staticClass:"d-flex flex-column align-items-center justify-content-center",staticStyle:{"min-height":"180px"}},[e("h2",{staticClass:"font-weight-semi-bold text-uppercase mb-3"},[t._v(t._s(t.showShopPage?"Shop":"Shopping Cart & Checkout"))])])]),t.showShopPage?e("div",{staticClass:"container-fluid pt-5"},[e("div",{staticClass:"row px-xl-5"},[e("div",{staticClass:"col-lg-3 col-md-12"},[e("div",{staticClass:"border-bottom mb-4 pb-4"},[e("h5",{staticClass:"font-weight-semi-bold mb-4"},[t._v("Order by:")]),e("form",[e("div",{staticClass:"custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.orderBy,expression:"orderBy"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"ascending",value:"ascending"},domProps:{checked:t._q(t.orderBy,"ascending")},on:{change:function(e){t.orderBy="ascending"}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"ascending"}},[t._v("Ascending")])]),e("div",{staticClass:"custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.orderBy,expression:"orderBy"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"descending",value:"descending"},domProps:{checked:t._q(t.orderBy,"descending")},on:{change:function(e){t.orderBy="descending"}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"descending"}},[t._v("Descending")])])])])]),e("div",{staticClass:"col-lg-9 col-md-12"},[e("div",{staticClass:"row pb-3"},[e("div",{staticClass:"col-12 pb-1"},[e("div",{staticClass:"d-flex align-items-center justify-content-between mb-4"},[e("form",{staticClass:"w-100"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search by subject or location"},domProps:{value:t.searchTerm},on:{input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}}),t._m(0)])]),e("div",{staticClass:"dropdown ml-4"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.sortBy,expression:"sortBy"}],staticClass:"form-select btn border dropdown-toggle",attrs:{"aria-label":"Sort by: subject, location, price, spaces"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sortBy=e.target.multiple?s:s[0]}}},[e("option",{attrs:{value:""}},[t._v("Sort by")]),e("option",{attrs:{value:"subject"}},[t._v("Subject")]),e("option",{attrs:{value:"location"}},[t._v("Location")]),e("option",{attrs:{value:"price"}},[t._v("Price")]),e("option",{attrs:{value:"spaces"}},[t._v("Spaces")])])])])]),e("Lesson",{attrs:{lessons:0===t.searchedLessons.length?t.sortedLessons:t.searchedLessons,cartCount:t.cartCount,canAddToCart:t.canAddToCart},on:{addLessonToCart:t.addToCart}})],1)])])]):e("div",[e("div",{staticClass:"container-fluid pt-5"},[e("Checkout",{attrs:{lessonsInCart:t.lessonsInCart,fullName:t.checkoutFields.fullName,phoneNumber:t.checkoutFields.phoneNumber,checkoutErrorsExist:t.checkoutErrorsExist},on:{removeLessonFromCart:t.removeFromCart,"update:fullName":function(e){return t.$set(t.checkoutFields,"fullName",e)},"update:full-name":function(e){return t.$set(t.checkoutFields,"fullName",e)},"update:phoneNumber":function(e){return t.$set(t.checkoutFields,"phoneNumber",e)},"update:phone-number":function(e){return t.$set(t.checkoutFields,"phoneNumber",e)},checkoutLessonsSubmit:t.checkoutSubmit}})],1)]),t._m(1)])},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-group-append"},[e("span",{staticClass:"input-group-text bg-transparent text-primary"},[e("i",{staticClass:"fa fa-search"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-12 text-center"},[e("p",[t._v(" Â© "),e("a",{staticClass:"text-dark font-weight-semi-bold",attrs:{href:"#"}},[t._v("Kevin Bazira")]),t._v(". All Rights Reserved. ")])])}],n=(s(7658),function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},t._l(t.lessons,(function(s){return e("div",{key:s.id,staticClass:"col-lg-4 col-md-6 col-sm-12 pb-1"},[e("div",{staticClass:"card product-item border-0 mb-4"},[e("div",{staticClass:"card-header product-img position-relative overflow-hidden bg-transparent border p-0"},[e("img",{staticClass:"img-fluid w-100",attrs:{src:s.images,alt:s.subject}})]),e("div",{staticClass:"card-body border-left border-right text-center p-0 pt-4 pb-3"},[e("h6",{staticClass:"text-truncate mb-3"},[t._v(t._s(s.subject)+" | "+t._s(s.location))]),e("div",{staticClass:"d-flex justify-content-center"},[e("h6",[t._v("$"+t._s(s.price))]),e("h6",{staticClass:"text-muted ml-2"})]),e("span",[t._v("Spaces: "+t._s(s.spaces-t.cartCount(s.id)))])]),e("div",{staticClass:"card-footer bg-light border text-center"},[e("button",{staticClass:"btn btn-sm text-dark p-0 w-100 h-100",attrs:{disabled:!t.canAddToCart(s)},on:{click:function(e){return t.addToCart(s)}}},[e("i",{staticClass:"fas fa-shopping-cart text-primary mr-1"}),t._v(" Add To Cart ")])])])])})),0)}),i=[],c={name:"Lesson",props:["lessons","cartCount","canAddToCart"],methods:{addToCart(t){this.$emit("addLessonToCart",t)}}},l=c,d=s(1001),u=(0,d.Z)(l,n,i,!1,null,null,null),m=u.exports,h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row px-xl-5"},[e("div",{staticClass:"col-lg-8 table-responsive mb-5"},[e("table",{staticClass:"table table-bordered text-center mb-0"},[t._m(0),e("tbody",{staticClass:"align-middle"},t._l(t.lessonsInCart,(function(s){return e("tr",{key:s.id},[e("td",{staticClass:"text-left"},[e("img",{staticStyle:{width:"50px"},attrs:{src:s.images}}),t._v(" "+t._s(s.subject)+" | "+t._s(s.location)+" ")]),e("td",{staticClass:"align-middle"},[t._v(" "+t._s(s.price)+" ")]),e("td",{staticClass:"align-middle"},[e("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return t.removeFromCart(s)}}},[e("i",{staticClass:"fa fa-times"})])])])})),0)])]),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card border-secondary mb-5"},[t._m(1),e("form",[e("div",{staticClass:"alert alert-light text-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.errors.first("FullName")||t.errors.first("phoneNumber"))+" ")]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"d-flex justify-content-between mb-3 pt-1"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_spaces",expression:"'required|alpha_spaces'"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Full Name",name:"FullName",required:""},domProps:{value:t.fullName},on:{input:function(e){return t.$emit("update:fullName",e.target.value)}}})]),e("div",{staticClass:"d-flex justify-content-between"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Phone Number",name:"phoneNumber",required:""},domProps:{value:t.phoneNumber},on:{input:function(e){return t.$emit("update:phoneNumber",e.target.value)}}})])]),e("div",{staticClass:"card-footer border-secondary bg-transparent"},[e("button",{staticClass:"btn btn-block btn-primary my-3 py-3",attrs:{disabled:!t.checkoutErrorsExist(t.errors.first("FullName"),t.errors.first("phoneNumber"))},on:{click:t.checkoutSubmit}},[t._v("Proceed To Checkout")])])])])])])},p=[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"bg-secondary text-dark"},[e("tr",[e("th",[t._v("Products")]),e("th",[t._v("Price")]),e("th",[t._v("Remove")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header bg-secondary border-0"},[e("h4",{staticClass:"font-weight-semi-bold m-0"},[t._v("Checkout Details")])])}],v={name:"Checkout",props:["lessonsInCart","fullName","phoneNumber","checkoutErrorsExist"],methods:{removeFromCart(t){this.$emit("removeLessonFromCart",t)},checkoutSubmit(){this.$emit("checkoutLessonsSubmit")}}},f=v,b=(0,d.Z)(f,h,p,!1,null,null,null),C=b.exports,g={name:"App",components:{Lesson:m,Checkout:C},data(){return{sitename:"CW3-CST3145",lessons:[],cart:[],sortBy:"",orderBy:"ascending",showShopPage:!0,lessonsInCart:[],checkoutFields:{fullName:"",phoneNumber:""},searchTerm:""}},methods:{addToCart(t){this.cart.push(t.id),this.lessonsInCart.push(t)},removeFromCart(t){let e=this.cart.indexOf(t.id);-1!==e&&(this.cart.splice(e,1),this.lessonsInCart.splice(e,1))},canAddToCart(t){return t.spaces>this.cartCount(t.id)},cartCount(t){let e=0;for(let s=0;s<this.cart.length;s++)this.cart[s]===t&&e++;return e},showCartAndCheckout(){this.showShopPage=!this.showShopPage},checkoutErrorsExist(t,e){let s;return s=(""!==this.checkoutFields.fullName&&""!==this.checkoutFields.phoneNumber||void 0!==t&&void 0!==e)&&(!t&&!e),s},checkoutSubmit(){alert("Order Submitted! :)")},sortLessons(t){const e=(t,e)=>t[this.sortBy]>e[this.sortBy]?1:t[this.sortBy]<e[this.sortBy]?-1:0;return"ascending"===this.orderBy?t.sort(e):"descending"===this.orderBy?(t.sort(e),t.reverse()):void 0}},computed:{cartItemCount(){return this.cart.length},sortedLessons(){let t=this.lessons.slice(0);return this.sortLessons(t)},searchedLessons(){let t=[];if(""!==this.searchTerm)for(let s=0;s<this.lessons.length;s++){let e=this.lessons[s].subject.toLowerCase(),r=this.lessons[s].location.toLowerCase(),a=this.searchTerm.toLowerCase();(e.includes(a)||r.includes(a))&&t.push(this.lessons[s])}const e=this.sortLessons(t);return e}},created(){fetch("https://cw2-cst3145-2023.herokuapp.com/collection/lessons").then((t=>t.json())).then((t=>this.lessons=t))}},y=g,_=(0,d.Z)(y,a,o,!1,null,null,null),x=_.exports,w=s(5708);r.ZP.use(w.ZP),r.ZP.config.productionTip=!1,new r.ZP({render:t=>t(x)}).$mount("#app")}},e={};function s(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(e,r,a,o){if(!r){var n=1/0;for(d=0;d<t.length;d++){r=t[d][0],a=t[d][1],o=t[d][2];for(var i=!0,c=0;c<r.length;c++)(!1&o||n>=o)&&Object.keys(s.O).every((function(t){return s.O[t](r[c])}))?r.splice(c--,1):(i=!1,o<n&&(n=o));if(i){t.splice(d--,1);var l=a();void 0!==l&&(e=l)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[r,a,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,o,n=r[0],i=r[1],c=r[2],l=0;if(n.some((function(e){return 0!==t[e]}))){for(a in i)s.o(i,a)&&(s.m[a]=i[a]);if(c)var d=c(s)}for(e&&e(r);l<n.length;l++)o=n[l],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(d)},r=self["webpackChunkwebstore"]=self["webpackChunkwebstore"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(8096)}));r=s.O(r)})();
//# sourceMappingURL=app.15246095.js.map